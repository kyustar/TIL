# 4장 주석

### 주석은 필요악이다!

개발자를 **코드**로 의도를 표현해야한다. 주석을 달 때마다 자신에게 표현력이 없다는 사실을 푸념해야 마땅하다.

> 주석은 나쁜 코드를 보완하지 못한다.

코드에 주석을 추가하는 일반적인 이유는 코드 품질이 나쁘기 때문이다.

> 코드로 의도를 표현해라!

코드만으로 의도를 설명하기 어렵다는 것을 잘못된 생각이다.

ex) 

// 직원에게 복지 혜택을 받을 자격이 있는지 검사한다.

if(employee.flags & HOURLY_FLAG) && (employee.age > 65))

---

if(employee.isEligibleForFullBenefits())

> 좋은 주석

- 법적인 주석

    소스 파일 첫머리에 주석으로 들어가는 저작권 정보와 수유권 정보는 필요하고 타당하다.

- 정보를 제공하는 주석

    기본적인 정보를 주석으로 제공하면 편리하다. ex) 반환값 설명

- 의도를 설명하는 주석

    결정에 깔린 의도까지 설명

- 의미를 명료하게 밝히는 주석

    때때로 모호한 인수나 반환값은 그 의미를 읽기 좋게 표현하면 이해하기 쉬워진다.

- 결과를 경고하는 주석

    다른 프로그래머에게 결과를 경고할 목적으로 주석을 사용한다.

    ex) //여유 시간이 출분하지 않다면 실행하지 마시오.

- TODO 주석

    앞으로 할 일을 TODO주석으로 남겨두면 편하다.

    TODO주석은 프로그래머가 필요하다 여기지만 당장 구현하기 어려운 업무를 기술한다.

- 중요성을 강조하는 주석

    ex)

    String listItemContent = match.group(3).trim();

    // 여기서 trim은 정말 중요하다. trim 함수는 문자열 시작 공백을 제거한다.

    // 문자열에 시작 공백이 있으면 다른 문저열로 인식되기 때문이다.

- 공개 API에서 Javadocs

    설명이 잘 된 공개 API는 참으로 유용하고 만족스럽다. 공개 API를 구현한다면 반드시 훌륭한 Javadocs를 작성해야한다.

> 나쁜 주석

일반적으로 대다수 주석은 허술한 코드를 지탱하거나, 엉성한 코드를 변명하거나, 미숙한 결정을 합리화하는 등 프로그래머가 주절거리는 독백에서 크게 벗어나지 못한다.

- 주절거리는 주석, 의무적으로 다는 주석

    특별한 이유없이 마지못해 주석을 단다면 시간낭비다. 주석을 달기로 결정했다면 충분한 시간을 들여 최고의 주석을 달도록 노력한다.

- 같은 이야기를 하는 주석

    코드를 그대로 읽는 듯한 주석을 달면 오히려 주석을 읽는 시간이 더 오래 걸린다.

    주석은 코드보다 더 많은 정보를 제공하지 못한다.

- 오해할 여지가 있는 주석

    [//this.closed가](//this.closed가) true일 때 반환되는 유틸리티메서드다.

    // 타임아웃에 도달하면 예외를 던진다.

    —> (1) this.closed가 true로 변하는 순간에 메서드는 반환되지 않는다.

    —> (2) this.closed가 true여야 메서드가 반환된다.

    —> (3) 무조건 타임아웃을 기다렸다 this.closed가 그래도 true가 아니면 예외를 던진다.

- 이력을 기록하는 주석

    로그 주석은 소스 코드 관리 시스템에서 해주기 때문에 완전히 제거하는 편이 낫다.

- 있으나 마나 한 주석

    너무 당연한 사실을 언급하며 새로운 정보를 제공하지 못하는 주석

- 함수나 변수로 표현할 수 있다면 주석을 달지 마라.

    ex)

    // 전역목록 <smodule>에 속하는 모듈이 우리가 속한 하위 시스템에 의존하는가?

    if(smodule.getDependSubsystem().contains(subSysMod.getSubSystem()))

    ---

    ArrayList moduleDependees = smodule.getDependSubSystem();

    String outSubSystem = subSysMod.getSubSystem();

    if (moduleDependees.contains(ourSubSystem))

- 닫는 괄호에 다는 주석

    장황한 함수라면 의미가 있겠지만 작고 캡슐화된 함수에는 잡음일 뿐이다.

- 공로를 돌리거나 저자를 표시하는 주석

    누가 언제 무엇을 했는지는 소스 코드 관리 시스템에 저장하는 편이 좋다.

- 주석으로 처리한 코드

    주석으로 처리된 코드는 다른사람들이 지우기를 주저한다. 이유가 있어 남겨놓았으리라고, 중요하니까 지우면 안 된다고 생각한다. 하지만 소스 코드 관리 시스템이 코드를 기억해준다. 그냥 지워라.

- HTML 주석

- 전역 정보

    주석을 달아햐 한다면 근처에 있는 코드만 기술하라.

- 관계가 모호한 주석

    ex)

    // 모든 픽셀을 담을 만큼 충분한 배열로 시작한다. (여기에 필터 바이트를 더한다)

    // 그리고 헤더 정보를 위해 200바이트를 더한다.

    this.pngBytes = new byte[ ((this.width + 1) * this.height * 3 ) + 200]

    → 여기서 필터 바이트란 무엇인가?? +1?? *3?? 

    주석을 다는 이유는 코드만으로 설명이 부족해서이다. 이렇게 주석을 달고 설명이 필요하면 안된다.

- 함수 헤더

    짧은 함수는 긴 설명이 필요 없다. 짧고 한 가지만 수행하며 이름을 잘 붙인 함수가 더 좋다.

- 비공개 코드에서 Javadocs

    공개 API는 Javadocs가 유용하지만 공개하지 않은 코드라면 Javadocs는 쓸모없다.

# 정리

# 최대한 코드로 전달해야한다. 하지만 의미, 의도, 중요한 정보 전달이 필요할때 주석을 사용해도 괜찮다!